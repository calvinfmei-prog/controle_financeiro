<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Finance Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-950 text-slate-200 min-h-screen">

<header class="p-6 border-b border-slate-800">
  <h1 class="text-2xl font-bold">ðŸ’³ Meu Financeiro</h1>
  <p class="text-slate-400">VisÃ£o geral do mÃªs</p>
</header>

<section class="p-6 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-6">
  <div class="bg-slate-900 rounded-xl p-5">
    <p class="text-slate-400 text-sm">Saldo Atual</p>
    <h2 id="saldoAtual" class="text-2xl font-bold text-green-400">R$ --</h2>
  </div>

  <div class="bg-slate-900 rounded-xl p-5">
    <p class="text-slate-400 text-sm">Despesas Fixas</p>
    <h2 id="fixas" class="text-2xl font-bold">R$ --</h2>
  </div>

  <div class="bg-slate-900 rounded-xl p-5">
    <p class="text-slate-400 text-sm">Parcelas do MÃªs</p>
    <h2 id="parcelas" class="text-2xl font-bold">R$ --</h2>
  </div>

  <div class="bg-slate-900 rounded-xl p-5">
    <p class="text-slate-400 text-sm">Saldo Projetado</p>
    <h2 id="saldoProjetado" class="text-2xl font-bold">R$ --</h2>
  </div>

  <div class="bg-slate-900 rounded-xl p-5 border border-blue-500">
    <p class="text-slate-400 text-sm">Pode gastar por dia</p>
    <h2 id="gastoDia" class="text-2xl font-bold text-blue-400">R$ --</h2>
  </div>
</section>

<script>
  function carregarDashboard(data) {
    const totalFixas = data.fixas.reduce((s, i) => s + i.valor, 0)
    const totalParcelas = data.cartao
      .filter(i => i.atual < i.parcelas)
      .reduce((s, i) => s + i.valorParcela, 0)

    const saldoInicial = data.config.saldoInicial || 0
    const gastoMedio = data.config.gastoMedio || 0
    const saldoProjetado = saldoInicial - totalFixas - totalParcelas

    document.getElementById('saldoAtual').innerText =
      saldoInicial.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})
    document.getElementById('fixas').innerText =
      totalFixas.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})
    document.getElementById('parcelas').innerText =
      totalParcelas.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})
    document.getElementById('saldoProjetado').innerText =
      saldoProjetado.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})
    document.getElementById('gastoDia').innerText =
      gastoMedio.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})
  }
</script>

<script src="https://script.google.com/macros/s/AKfycbz3sEGRpvtiyTihVGBIoxuhzVTxPkxsEVYef_qSdt3-wlsw_WY8SXl8rceIGFfA4T_Wkw/exec?callback=carregarDashboard"></script>


</body>
</html>
